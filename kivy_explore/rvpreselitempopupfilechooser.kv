<ConfirmPopup>:
	ctr: controller
	medList: media_list
	orientation: 'vertical'
	BoxLayout:
		orientation: 'vertical'
		#size_hint_y: 0.1
		BoxLayout:
			orientation: 'vertical'
			size_hint_y: 0.2
			RecycleView:
				id: media_list
				viewclass: 'SelectableLabel'
				scroll_type: ['bars', 'content']
				scroll_wheel_distance: dp(114)
				bar_width: dp(10)
				SelectableRecycleBoxLayout:
					id: controller
					key_selection: 'selectable' # required so that 'selectable'
												# key/value can be added to 
												# RecycleView data items
					default_size: None, dp(28)
					default_size_hint: 1, None
					size_hint_y: None
					height: self.minimum_height
					orientation: 'vertical'
					# multiselect: True
					# touch_multiselect: True
					spacing: dp(2)

		BoxLayout:
			orientation: 'vertical'
			size_hint_y: 0.8

            FileChooserListView:
                id: filechooser
                dirselect: True
                on_selection: text_path_load.text = self.selection and self.selection[0] or ''
                #on_selection: text_path_load.text = filechooser.path

            TextInput:
                id: text_path_load
                size_hint_y: 0.12 # value for Windows 10
                #size_hint_y: 0.03 # value for Android
                multiline: False
                readonly: True

            GridLayout:
                cols: 2
                size_hint_y: None
                height: '28dp'
                Button:
                    text: "Cancel"
                    on_release: root.cancel()
                Button:
                    text: "Load"
                    on_release: root.load(filechooser.path, filechooser.selection)

<SelectableLabel>:
	# Draw a background to indicate selection
	canvas.before:
		Color:
			rgba: (0.4, 0.4, 0.4, 1) if self.selected else (0.5, 0.5, 0.5, 1)
		Rectangle:
			pos: self.pos
			size: self.size

